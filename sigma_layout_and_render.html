<!DOCTYPE html>
<meta charset="utf-8">

<script src="third_party/sigma.js/build/sigma.min.js"></script>
<script src="third_party/sigma.js/build/plugins/sigma.layout.forceAtlas2.min.js"></script>
<script src="third_party/sigma.js/build/plugins/sigma.layout.noverlap.min.js"></script>
<script src="third_party/sigma.js/build/plugins/sigma.plugins.animate.min.js"></script>
<script src="data/grqc_auto.js"></script>

<div id="container">
  <style>
    #webgl {
      top: 20px;
      bottom: 0;
      left: 50px;
      right: 0;
      color: #000;
      background: #fff;
      position: absolute;
    }

    #layout {
      top: 0;
      left: 0;
      position: fixed;
    }

    .label {
      position: absolute;
      top: 10px;
      left: 10px;
      z-index: 1;
      font-family: sans-serif;
    }
  </style>
  <div id="webgl">
  <button id="layout" type="button">Layout</button>
  </div>
</div>


<script>

var i,
    N = 100,
    E = 500,
    s = new sigma(),
    cam = s.addCamera();

// Initialize two distinct renderers, each with its own settings:
s.addRenderer({
  container: document.getElementById('webgl'),
  type: 'webgl',
  camera: cam,
  settings: {
    defaultLabelColor: '#000',
    defaultNodeColor: '#666',
    defaultEdgeColor: '#999',
    edgeColor: 'default',
    drawLabels: false
  }
});

graph.nodes.map(function(d){
  s.graph.addNode({
    id: d.id,
    label: 'Node ' + d.id,
    x: Math.random(),
    y: Math.random(),
    size: 1
  });
})

graph.links.map(function(d, t) {
  s.graph.addEdge({
    id: 'e' + t,
    source: d.source,
    target: d.target,
    size: 1
  });
})


s.refresh();



var force = false;
document.getElementById('layout').onclick = function() {
  if (!force) {
    console.log('Start layout');
     s.startForceAtlas2({slowDown: 10});
  }
  else {
    console.log('Stop layout');
    s.stopForceAtlas2();
  }

  force = !force;
};

</script>

